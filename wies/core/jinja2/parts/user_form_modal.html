<dialog id="{{ modal_element_id }}"
        class="modal-dialog modal-dialog--wide"
        closedby="any">
  <div class="modal-content">
    <div class="modal-header">
      <h2 class="utrecht-heading-2">{{ modal_title }}</h2>
      <button type="button" class="close modal-close-button">Ã—</button>
    </div>
    <form method="post"
          action="{{ form_post_url }}"
          hx-post="{{ form_post_url }}"
          hx-target="#{{ target_element_id }}">
      {{ get_csrf_hidden_input(request) }}
      <div class="modal-body">
        {% if delete_warning %}
          <div style="padding: 1rem;">
            <p class="rvo-text">{{ delete_warning }}</p>
          </div>
        {% else %}
          <div class="user-form-layout">
            {# Left column: Basic user info #}
            <div class="user-form-column">
              <h3 class="utrecht-heading-3" style="margin-bottom: 1rem;">Gebruikersgegevens</h3>
              <div>
                {{ content.first_name.as_field_group() }}
                {{ content.last_name.as_field_group() }}
                {{ content.email.as_field_group() }}
                {{ content.groups.as_field_group() }}
              </div>
            </div>
            {# Vertical divider #}
            <div class="user-form-divider"></div>
            {# Right column: Labels #}
            <div class="user-form-column">
              <h3 class="utrecht-heading-3" style="margin-bottom: 1rem;">Labels</h3>
              <div>
                {% for field in content %}
                  {% if field.name.startswith('category_') %}{{ field.as_field_group() }}{% endif %}
                {% endfor %}
              </div>
            </div>
          </div>
        {% endif %}
      </div>
      <div class="modal-footer">
        <div class="modal-footer-buttons">
          <div class="close">
            <c-button kind="{{ 'warning-subtle' if warning_modal else 'secondary' }}" type="button">
            Annuleren
            </c-button>
          </div>
          {% if delete_url %}
            <c-button kind="warning-subtle" hx-get="{{ delete_url }}" hx-target="#{{ modal_element_id }}" hx-swap="innerHTML">
            Verwijderen
            </c-button>
          {% endif %}
        </div>
        <c-button kind="{{ 'warning' if warning_modal else 'primary' }}" type="submit">
        {{ form_button_label }}
        </c-button>
      </div>
    </form>
  </div>
</dialog>
