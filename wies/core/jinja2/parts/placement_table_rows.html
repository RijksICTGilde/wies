{% for placement in object_list %}
  <tr class="rvo-table-row clickable-row" 
      onclick="window.location.href='/placements/?{% for key, value in request.GET.items() %}{% if key not in ['colleague', 'assignment'] %}{{ key }}={{ value }}&{% endif %}{% endfor %}colleague={{ placement.colleague.id }}'"
      style="cursor: pointer;">
    <td class="rvo-table-cell">
      <div class="user-table-cell">
        <div class="user-avatar">
          {{ placement.colleague.name|first|upper }}
        </div>
        <div class="user-info">
          <div class="rvo-text rvo-text--bold">
            {{ placement.colleague.name }}
          </div>
          <div class="rvo-text rvo-text--sm rvo-text--subtle">
            {% if placement.colleague.brand %}
              {{ placement.colleague.brand.name }}
            {% else %}
              -
            {% endif %}
          </div>
        </div>
      </div>
    </td>
    <td class="rvo-table-cell">
      <div class="placement-assignment">
        <a class="rvo-link rvo-text--bold"
           href="/placements/?{% for key, value in request.GET.items() %}{% if key not in ['colleague', 'assignment'] %}{{ key }}={{ value }}&{% endif %}{% endfor %}assignment={{ placement.service.assignment.id }}"
           onclick="event.stopPropagation()">
          {{ placement.service.assignment.name }}
        </a>
        <div class="rvo-text--sm rvo-text--subtle">
          {{ placement.service.assignment.organization }}
        </div>
      </div>
    </td>
    <td class="rvo-table-cell">
      {% if placement.service.skill %}
        <span class="rvo-tag rvo-tag--default">{{ placement.service.skill.name }}</span>
      {% else %}
        <span class="rvo-text--italic rvo-text--subtle">
          Geen rol
        </span>
      {% endif %}
    </td>

    <td class="rvo-table-cell">
      <span class="rvo-text">
        {{ placement.start_date.strftime("%b %y") if placement.start_date else "?" }} - {{ placement.end_date.strftime("%b %y") if placement.end_date else "?" }}
      </span>
    </td>
  </tr>
{% else %}
  <tr class="rvo-table-row">
    <td class="rvo-table-cell" colspan="4">
      <span class="rvo-text--italic">Geen inzetten gevonden.</span>
    </td>
  </tr>
{% endfor %}

{% if next_page_url %}
<tr hx-get="{{ next_page_url }}"
    hx-trigger="revealed"
    hx-swap="outerHTML">
  <td colspan="4" class="rvo-table-cell">
    <div style="text-align: center; padding: 1rem;">
      <span class="rvo-text--subtle">Meer laden...</span>
    </div>
  </td>
</tr>
{% endif %}
