<div class="editable-field-display">
  {% if field_value %}
    {% set is_long = field_value|length > 300 %}
    {% if is_long %}
      <span class="show-more-container">
        <span class="text-pre-wrap text-block truncated-text">{{ field_value[:300] }}...</span>
        <span class="text-pre-wrap full-text hidden">{{ field_value }}</span>
        <a href="#"
           class="show-more-link show-more-link--block"
           onclick="event.preventDefault(); const container = this.parentElement; container.querySelector('.truncated-text').classList.toggle('hidden'); container.querySelector('.full-text').classList.toggle('hidden'); this.textContent = this.textContent === 'Toon meer' ? 'Toon minder' : 'Toon meer';">Toon meer</a>
      </span>
    {% else %}
      <span class="text-pre-wrap">{{ field_value }}</span>
    {% endif %}
  {% else %}
    <span class="rvo-text--italic rvo-text--subtle">Niet ingevuld</span>
  {% endif %}
  {% if user_can_edit %}
    <button type="button"
            class="edit-icon-button"
            hx-get="{{ edit_url }}"
            hx-target="#{{ target_element }}"
            hx-swap="innerHTML"
            aria-label="Bewerk {{ field_label }}">
      <span class="utrecht-icon rvo-icon rvo-icon-bewerken rvo-icon--md"
            role="img"
            aria-label="Bewerk"></span>
    </button>
  {% endif %}
</div>
