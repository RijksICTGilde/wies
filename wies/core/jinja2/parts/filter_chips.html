<div class="filter-chips-container">
  {# Search filter chip #}
  {% if search_filter %}
    <div class="filter-chip filter-chip--default"
         data-filter-name="zoek"
         data-filter-type="zoek">
      <span>{{ search_filter }}</span>
      <button type="button"
              class="filter-chip-remove"
              aria-label="Verwijder filter"
              data-filter-name="zoek">
        <c-icon icon="kruis" color="grijs-700" size="sm" />
      </button>
    </div>
  {% endif %}
  {# Regular filters #}
  {% for filter_group in filter_groups %}
    {% if filter_group.type == 'select' %}
      {% set filter_value = active_filters.get(filter_group.name) %}
      {# For label filters (multi-select) #}
      {% if filter_group.name == 'labels' and filter_value %}
        {% for label_id in filter_value %}
          {% for option in filter_group.options %}
            {% if option.value == label_id %}
              <div class="filter-chip filter-chip--label"
                   data-filter-name="{{ filter_group.name }}"
                   data-filter-value="{{ label_id }}"
                   data-filter-type="select-multi"
                   style="background-color: {{ option.category_color }}">
                <span>{{ option.label }}</span>
                <button type="button"
                        class="filter-chip-remove"
                        aria-label="Verwijder filter"
                        data-filter-name="{{ filter_group.name }}"
                        data-filter-value="{{ label_id }}">
                  <c-icon icon="kruis" color="grijs-700" size="sm" />
                </button>
              </div>
            {% endif %}
          {% endfor %}
        {% endfor %}
        {# For single-select filters #}
      {% elif filter_value and filter_group.name != 'label' %}
        {% for option in filter_group.options %}
          {% if option.value == filter_value %}
            <div class="filter-chip filter-chip--default"
                 data-filter-name="{{ filter_group.name }}"
                 data-filter-type="select">
              <span>{{ option.label }}</span>
              <button type="button"
                      class="filter-chip-remove"
                      aria-label="Verwijder filter"
                      data-filter-name="{{ filter_group.name }}">
                <c-icon icon="kruis" color="grijs-700" size="sm" />
              </button>
            </div>
          {% endif %}
        {% endfor %}
      {% endif %}
      {# Date range filter #}
    {% elif filter_group.type == 'date_range' and active_filters.get(filter_group.name) %}
      <div class="filter-chip filter-chip--default"
           data-filter-name="{{ filter_group.name }}"
           data-filter-type="date_range">
        <span>{{ active_filters.get(filter_group.name).from|datum_nl('N Y') }} t/m {{ active_filters.get(filter_group.name).to|datum_nl('N Y') }}</span>
        <button type="button"
                class="filter-chip-remove"
                aria-label="Verwijder filter"
                data-filter-name="{{ filter_group.name }}">
          <c-icon icon="kruis" color="grijs-700" size="sm" />
        </button>
      </div>
    {% endif %}
  {% endfor %}
</div>
