{% extends "base.html" %}
{% load static %}

{% block content %}

<!-- Page Header -->
<div class="rvo-layout-column rvo-layout-gap--xs rvo-layout-margin-bottom--md rvo-margin-block-end--md">
  <h1 class="utrecht-heading-1 rvo-heading--no-margins">
    WIES
  </h1>
  <span class="rvo-text--subtle">
    Wie, wat, waar, wanneer
  </span>
</div>

<!-- Statistics Cards -->
<div class="rvo-max-width-layout rvo-max-width-layout--md rvo-margin-block-end--md">
  <div class="rvo-layout-grid rvo-layout-gap--md rvo-layout-grid-columns--three">
    <div class="rvo-card rvo-card--outline rvo-card--padding-md">
      <div class="rvo-card__content">
        <span class="utrecht-icon rvo-icon rvo-icon-man-met-laptop rvo-icon--2xl rvo-icon--hemelblauw" role="img" aria-label="Consultants op opdracht"></span>
        <h4 class="utrecht-heading-4 rvo-heading--no-margins">Consultants op opdracht</h4>
        {{ consultants_working }}
      </div>
    </div>
    <div class="rvo-card rvo-card--outline rvo-card--padding-md">
      <div class="rvo-card__content">
        <span class="utrecht-icon rvo-icon rvo-icon-basis-kantoorgebouw rvo-icon--2xl rvo-icon--hemelblauw" role="img" aria-label="Aantal opdrachtgevers"></span>
        <h4 class="utrecht-heading-4 rvo-heading--no-margins">Aantal opdrachtgevers</h4>
        {{ total_clients_count }}
      </div>
    </div>
    <div class="rvo-card rvo-card--outline rvo-card--padding-md">
      <div class="rvo-card__content">
        <span class="utrecht-icon rvo-icon rvo-icon-budget rvo-icon--2xl rvo-icon--hemelblauw" role="img" aria-label="Totale omzet"></span>
        <h4 class="utrecht-heading-4 rvo-heading--no-margins">Totale omzet</h4>
        â‚¬ {{ formatted_budget }}
      </div>
    </div>
  </div>
</div>

<!-- Dashboard Tabs -->
<div class="rvo-layout-column rvo-layout-gap--xl">
  <ul class="rvo-tabs rvo-ul rvo-ul--no-margin rvo-ul--no-padding rvo-ul--icon rvo-ul--icon-option-2" role="tablist" aria-label="Dashboard Tabs">
    <li role="presentation" class="rvo-tabs__item">
      <a href="?tab=ending_soon" class="rvo-link rvo-tabs__item-link {% if active_tab == 'ending_soon' %}rvo-tabs__item-link--active rvo-link--active{% endif %} rvo-link--no-underline" role="tab" aria-selected="{% if active_tab == 'ending_soon' %}true{% else %}false{% endif %}" hx-get="?tab=ending_soon" hx-target="#dashboard-tab-content" hx-swap="innerHTML" hx-push-url="true">
        Opdrachten die binnenkort aflopen
      </a>
    </li>
    <li role="presentation" class="rvo-tabs__item">
      <a href="?tab=consultants_bench" class="rvo-link rvo-tabs__item-link {% if active_tab == 'consultants_bench' %}rvo-tabs__item-link--active rvo-link--active{% endif %} rvo-link--no-underline" role="tab" aria-selected="{% if active_tab == 'consultants_bench' %}true{% else %}false{% endif %}" hx-get="?tab=consultants_bench" hx-target="#dashboard-tab-content" hx-swap="innerHTML" hx-push-url="true">
        Consultants op bank
      </a>
    </li>
    <li role="presentation" class="rvo-tabs__item">
      <a href="?tab=new_leads" class="rvo-link rvo-tabs__item-link {% if active_tab == 'new_leads' %}rvo-tabs__item-link--active rvo-link--active{% endif %} rvo-link--no-underline" role="tab" aria-selected="{% if active_tab == 'new_leads' %}true{% else %}false{% endif %}" hx-get="?tab=new_leads" hx-target="#dashboard-tab-content" hx-swap="innerHTML" hx-push-url="true">
        Nieuwe leads
      </a>
    </li>
  </ul>

  <!-- Tab Content -->
  <div id="dashboard-tab-content">
    {% if active_tab == 'ending_soon' %}
      {% include 'parts/dashboard_ending_soon.html' %}
    {% elif active_tab == 'consultants_bench' %}
      {% include 'parts/dashboard_consultants_bench.html' %}
    {% elif active_tab == 'new_leads' %}
      {% include 'parts/dashboard_new_leads.html' %}
    {% endif %}
  </div>
</div>

{% endblock content %}