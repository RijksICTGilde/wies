<div class="rvo-table--responsive" id="assignment-tabs-section">
  <!-- Tab Navigation -->
  <div class="assignment-tabs-navigation" style="margin-bottom: 1rem;">
    <ul
      class="rvo-tabs rvo-ul rvo-ul--no-margin rvo-ul--no-padding rvo-ul--icon rvo-ul--icon-option-2"
      role="tablist"
      aria-label="Assignment Tabs"
    >
      {% for tab_key, tab_data in tab_groups.items %}
      <li role="presentation" class="rvo-tabs__item">
        <a
          href="#tab-{{ tab_key }}"
          class="rvo-link rvo-tabs__item-link {% if active_tab == tab_key %}rvo-tabs__item-link--active rvo-link--active{% endif %} rvo-link--no-underline"
          role="tab"
          aria-selected="{% if active_tab == tab_key %}true{% else %}false{% endif %}"
          hx-get="{% assignments_url_with_tab tab_key %}"
          hx-target="#assignment-tabs-section"
          hx-swap="outerHTML"
          hx-push-url="true"
        >
          {{ tab_data.title }}
          <span class="tab-count">({{ tab_data.queryset.count }})</span>
        </a>
      </li>
      {% endfor %}
    </ul>
  </div>

    <!-- Tab Content -->
    <div id="assignment-tab-content">
      <!-- Assignments Table -->
      <table class="rvo-table">
            <thead class="rvo-table-head">
              <tr class="rvo-table-row">
                {% include 'parts/sortable_header.html' with field='name' label='Naam' target='#assignment-tabs-section' %}
                {% include 'parts/sortable_header.html' with field='organization' label='Opdrachtgever' target='#assignment-tabs-section' %}
                {% include 'parts/sortable_header.html' with field='ministry__abbreviation' label='Ministerie' target='#assignment-tabs-section' %}
                {% include 'parts/sortable_header.html' with field='status' label='Status' target='#assignment-tabs-section' %}
                {% include 'parts/sortable_header.html' with field='start_date' label='Startdatum' target='#assignment-tabs-section' %}
                {% include 'parts/sortable_header.html' with field='end_date' label='Einddatum' target='#assignment-tabs-section' %}
              </tr>
            </thead>
            <tbody class="rvo-table-body">
              {% for assignment in active_assignments %}
              <tr class="rvo-table-row">
                <td class="rvo-table-cell"><a href="/assignments/{{ assignment.pk }}/" class="rvo-link">{{ assignment.name }}</a></td>
                <td class="rvo-table-cell">{{ assignment.organization }}</td>
                <td class="rvo-table-cell">
                  {% if assignment.ministry %}
                    {{ assignment.ministry.abbreviation }}
                  {% else %}
                    <span class="rvo-text--italic">-</span>
                  {% endif %}
                </td>
                <td class="rvo-table-cell">
                  <span class="status-badge status-{{ assignment.status|lower }}">{{ assignment.status }}</span>
                </td>
                <td class="rvo-table-cell">{{ assignment.start_date|date:"d-m-Y"|default:"-" }}</td>
                <td class="rvo-table-cell">{{ assignment.end_date|date:"d-m-Y"|default:"-" }}</td>
              </tr>
              {% empty %}
              <tr class="rvo-table-row">
                <td class="rvo-table-cell" colspan="6" style="text-align: center; padding: 2rem; color: var(--rvo-color-grijs-600);">
                  <span class="rvo-text--italic">Geen opdrachten gevonden voor deze categorie.</span>
                </td>
              </tr>
              {% endfor %}
            </tbody>
      </table>
    </div>
</div>