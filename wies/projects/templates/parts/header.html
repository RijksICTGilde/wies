{% load static %}
<div class="rvo-alert rvo-alert--warning rvo-alert--padding-sm">
    <div class="rvo-alert-text">
        <div>
            <b><a class="rvo-link" href="https://github.com/RijksICTGilde/wies/">Prototype</a></b> |  Deze website is voortdurend in ontwikkeling | Het kan zijn dat data wordt verwijderd of dat er tijdelijk geen data beschikbaar is. <br>
        </div>
    </div>
</div>
<header class="rvo-header">
  <div class="rvo-header__logo-wrapper">
    <a href="/placements/" class="rvo-link rvo-link--no-underline">
      <div class="rvo-logo rvo-header__logo-img">
        <div class="rvo-logo__emblem">
          <img src="{% static '@nl-rvo/assets/images/emblem.svg' %}" alt="RVO Embleem">
        </div>
        <div class="rvo-logo__wordmark">
          <p class="rvo-logo__title">Rijksorganisatie voor Ontwikkeling, <br> Digitalisering en Innovatie</p>
        </div>
      </div>
    </a>
  </div>
  <div class="app-switcher-links">
    <a href="/exact/" class="app-link" target="_blank" rel="noopener noreferrer">
      Exact (mockup) 
      <svg class="external-link-icon" viewBox="0 0 24 24" fill="currentColor">
        <path d="M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 21,19V12H19V19Z"/>
      </svg>
    </a>
  </div>
</header>

{% load static %}
<link rel="stylesheet" href="{% static 'css/search.css' %}">
<script src="{% static 'js/search.js' %}"></script>

<div class="rvo-menubar__background rvo-menubar__background--horizontal-rule">
  <div class="rvo-max-width-layout rvo-max-width-layout--md rvo-max-width-layout-inline-padding--none">
    <nav class="rvo-menubar rvo-menubar--md">
      <ul class="rvo-menubar__ul">
        <li class="rvo-menubar__list">
          <ul class="rvo-menubar__group--flex">
            <li class="rvo-menubar__item">
              <a href="/placements/" class="rvo-link rvo-menubar__link rvo-link--logoblauw {% if '/placements/' in request.path %}wies-menu-item--active{% endif %}">Wie zit waar?</a>
            </li>
            <li class="rvo-menubar__item">
              <a href="/assignments/" class="rvo-link rvo-menubar__link rvo-link--logoblauw {% if '/assignments/' in request.path %}wies-menu-item--active{% endif %}">Opdrachten & vacatures</a>
            </li>
            <li class="rvo-menubar__item">
              <a href="/colleagues/" class="rvo-link rvo-menubar__link rvo-link--logoblauw {% if '/colleagues/' in request.path %}wies-menu-item--active{% endif %}">Collega's</a>
            </li>
            <li class="rvo-menubar__item">
              <a href="/clients/" class="rvo-link rvo-menubar__link rvo-link--logoblauw {% if '/clients/' in request.path or '/ministries/' in request.path %}wies-menu-item--active{% endif %}">Opdrachtgevers</a>
            </li>
          </ul>
          <ul class="rvo-menubar__group--flex">
            <li class="rvo-menubar__item">
              <a href="#" class="rvo-link rvo-menubar__link rvo-link--logoblauw" onclick="toggleSearchForm(event)">
                <span
                  class="utrecht-icon rvo-icon rvo-icon-zoek rvo-icon--md rvo-icon--wit"
                  role="img"
                  aria-label="Zoek"
                ></span>
                Zoeken
              </a>
            </li>
            <li class="rvo-menubar__item">
              {% if user.is_authenticated %}
                {% if user.colleague %}
                  <a href="{% url 'colleague-detail' user.colleague.pk %}" class="rvo-link rvo-menubar__link rvo-link--logoblauw">
                    <span
                      class="utrecht-icon rvo-icon rvo-icon-user rvo-icon--md rvo-icon--wit"
                      role="img"
                      aria-label="User"
                    ></span>
                    {{ user.get_full_name }}
                  </a>
                {% else %}
                  <span class="rvo-link rvo-menubar__link rvo-link--logoblauw">
                    <span
                      class="utrecht-icon rvo-icon rvo-icon-user rvo-icon--md rvo-icon--wit"
                      role="img"
                      aria-label="User"
                    ></span>
                    {{ user.get_full_name }}
                  </span>
                {% endif %}
              {% else %}
              {% endif %}
            </li>
          </ul>
        </li>
      </ul>
    </nav>
  </div>
</div>

<!-- Search Form Section - dropdown search form -->
<div id="searchFormSection" class="rvo-layout-column rvo-layout-gap--md" style="display: {% if '/search/' in request.path %}block{% else %}none{% endif %};">
  <div class="search-form">
    <div class="utrecht-form-fieldset rvo-form-fieldset">
      <fieldset
        class="utrecht-form-fieldset__fieldset utrecht-form-fieldset--html-fieldset"
      >
        <div class="rvo-form-layout">
          <div
            class="rvo-max-width-layout rvo-max-width-layout--sm rvo-max-width-layout-inline-padding--none"
          >
            <div class="search-form-field-wrapper">
              <div
                role="group"
                aria-labelledby="globalSearchLabel"
                class="search-form-container"
              >
                <div class="rvo-form-field__label">
                  <label class="rvo-label search-form-label-hidden" id="globalSearchLabel" for="globalSearchField">
                    Zoekterm
                  </label>
                </div>
                <input
                  id="globalSearchField"
                  placeholder="Zoek op naam, opdrachttitel, organisatie..."
                  type="text"
                  class="utrecht-textbox utrecht-textbox--html-input utrecht-textbox--lg search-form-input"
                  dir="auto"
                  value="{{ request.GET.search|default:'' }}"
                />
              </div>
              <button
                class="utrecht-button utrecht-button--primary-action utrecht-button--rvo-md"
                type="button"
                onclick="performGlobalSearch()"
              >
                Zoeken
              </button>
            </div>
          </div>
        </div>
      </fieldset>
    </div>
  </div>
</div>

 