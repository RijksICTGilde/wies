{% extends 'base.html' %}
{% load static %}

{% block title %}Mijn Profiel{% endblock %}

{% block content %}
<div class="rvo-layout-column rvo-layout-gap--xl">
  <div class="rvo-layout-column rvo-layout-gap--xs">
    <h1 class="utrecht-heading-1 rvo-heading--no-margins">Mijn Profiel</h1>
  </div>
  
  <!-- 2-kolommen layout -->
  <div class="rvo-layout-grid-container">
    <div class="rvo-layout-grid rvo-layout-gap--2xl rvo-layout-grid-columns--two rvo-layout-grid--division" style="--division: 2fr 1fr;">
      <!-- Linker kolom -->
      <div>
        <div class="rvo-layout-column rvo-layout-gap--2xl">
          <!-- Welkomst & profiel kaart -->
          <div class="rvo-card rvo-card--outline rvo-card--padding-xl">
            <div class="rvo-layout-column rvo-layout-gap--md">
              <div>
                <span class="rvo-text--subtle">Welkom terug</span><br>
                <h2 class="utrecht-heading-2 rvo-heading--no-margins">{{ user.get_full_name }}</h2>
                <span class="rvo-text--subtle rvo-text--sm">Senior Software Engineer • Python, Django, React</span>
              </div>
              
              <!-- Competentie highlights -->
              <div class="rvo-layout-row rvo-layout-gap--sm rvo-layout--wrap">
                <span class="rvo-tag rvo-tag--info">Python</span>
                <span class="rvo-tag rvo-tag--info">Django</span>
                <span class="rvo-tag rvo-tag--info">React</span>
                <span class="rvo-tag rvo-tag--subtle">+12 meer</span>
              </div>
              
              <hr class="rvo-hr rvo-margin-block-end--md rvo-margin-block-start--sm">              
              <div class="rvo-layout-row rvo-layout-gap--md">
                <a href="?tab=cv" class="rvo-link rvo-link--with-icon rvo-link--no-underline">
                  Bekijk volledig CV
                  <span class="utrecht-icon rvo-icon rvo-icon-pijl-naar-rechts rvo-icon--md rvo-icon--hemelblauw rvo-link__icon--after" role="img" aria-label="Pijl naar rechts"></span>
                </a>
              </div>
            </div>
          </div>

          <!-- Opdrachten overzicht -->
          <div class="rvo-card rvo-card--outline rvo-card--padding-xl">
            <div class="rvo-layout-column rvo-layout-gap--md">
              <h2 class="utrecht-heading-2 rvo-heading--no-margins">Recente opdrachten</h2>
              
              <div class="rvo-layout-column rvo-layout-gap--md">
                <!-- Lopende opdracht -->
                <div class="rvo-layout-row rvo-layout-align-items-start rvo-layout-justify-content-space-between rvo-layout-gap--md">
                  <div class="rvo-layout-column rvo-layout-gap--2xs">
                    <div class="rvo-layout-row rvo-layout-gap--xs">
                      <span class="rvo-tag rvo-tag--warning">Actief</span>
                      <p class="rvo-text--bold rvo-text--no-margins">Digital Twin Manufacturing</p>
                    </div>
                    <span class="rvo-text--subtle rvo-text--sm">Rijksdienst voor Identiteitsgegevens (BZK)</span>
                    <span class="rvo-text--sm">Jan 2024 - Dec 2025 · <strong>Senior Developer</strong></span>
                  </div>
                  <a href="#" class="rvo-link rvo-link--with-icon rvo-link--no-underline">
                    Bekijk details
                  </a>
                </div>
                
                <hr class="rvo-hr">
                
                <!-- Afgeronde opdrachten -->
                <div class="rvo-layout-row rvo-layout-align-items-start rvo-layout-justify-content-space-between rvo-layout-gap--md">
                  <div class="rvo-layout-column rvo-layout-gap--2xs">
                    <div class="rvo-layout-row rvo-layout-gap--xs">
                      <span class="utrecht-icon rvo-icon rvo-icon-vinkje rvo-icon--sm rvo-icon--hemelblauw" role="img" aria-label="Afgerond"></span>
                      <p class="rvo-text--bold rvo-text--no-margins">LGPD Compliance Platform</p>
                    </div>
                    <span class="rvo-text--subtle rvo-text--sm">Ministerie van Economische Zaken (EZ)</span>
                    <span class="rvo-text--sm">Mrt 2023 - Nov 2023 · <strong>Tech Lead</strong></span>
                  </div>
                  <a href="#" class="rvo-link rvo-link--with-icon rvo-link--no-underline">
                    Bekijk details
                  </a>
                </div>
                
                <hr class="rvo-hr">
                
                <div class="rvo-layout-row rvo-layout-align-items-start rvo-layout-justify-content-space-between rvo-layout-gap--md">
                  <div class="rvo-layout-column rvo-layout-gap--2xs">
                    <div class="rvo-layout-row rvo-layout-gap--xs">
                      <span class="utrecht-icon rvo-icon rvo-icon-vinkje rvo-icon--sm rvo-icon--hemelblauw" role="img" aria-label="Afgerond"></span>
                      <p class="rvo-text--bold rvo-text--no-margins">AI Ethics Framework</p>
                    </div>
                    <span class="rvo-text--subtle rvo-text--sm">Rijksdienst voor Ondernemend Nederland (RVO)</span>
                    <span class="rvo-text--sm">Jun 2022 - Feb 2023 · <strong>Solution Architect</strong></span>
                  </div>
                  <a href="#" class="rvo-link rvo-link--with-icon rvo-link--no-underline">
                    Bekijk details
                  </a>
                </div>
                
                <div class="rvo-margin-block-start--lg rvo-text--center">
                  <button class="utrecht-button utrecht-button--secondary-action utrecht-button--rvo-md" type="button" onclick="alert('Toon alle opdrachten functionaliteit')">
                    Toon alle opdrachten (7 totaal)
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Rechter kolom -->
      <div>
        <div class="rvo-layout-column rvo-layout-gap--2xl">
          <!-- Snelle acties -->
          <div class="rvo-card rvo-card--outline rvo-card--padding-xl">
            <h2 class="utrecht-heading-2">Snelle acties</h2>
            <div class="rvo-layout-column rvo-layout-gap--md">
              <div class="rvo-layout-column rvo-layout-gap--xs">
                <button class="utrecht-button utrecht-button--primary-action utrecht-button--rvo-md utrecht-button--rvo-full-width" type="button" onclick="window.location.href='?tab=cv'">
                  CV bijwerken
                </button>
              </div>
              <div class="rvo-layout-column rvo-layout-gap--xs">
                <a href="/opdrachten/" class="utrecht-button utrecht-button--secondary-action utrecht-button--rvo-md utrecht-button--rvo-full-width rvo-link--no-underline">
                  Zoek opdrachten
                </a>
              </div>
              <div class="rvo-layout-column rvo-layout-gap--xs">
                <button class="utrecht-button utrecht-button--secondary-action utrecht-button--rvo-md utrecht-button--rvo-full-width" type="button" onclick="window.location.href='?tab=instellingen'">
                  Profiel instellingen
                </button>
              </div>
              <div class="rvo-layout-column rvo-layout-gap--xs">
                <form method="post" action="/logout/">
                  {% csrf_token %}
                  <button class="utrecht-button utrecht-button--subtle utrecht-button--warning utrecht-button--rvo-md utrecht-button--rvo-full-width utrecht-button--icon-before" type="submit">
                    <span class="utrecht-icon rvo-icon rvo-icon-secure-link rvo-icon--md rvo-icon--hemelblauw" role="img" aria-label="Uitloggen"></span>
                    Uitloggen
                  </button>
                </form>
              </div>
            </div>
          </div>
          
          <!-- Persoonlijke gegevens -->
          <div class="rvo-card rvo-card--outline rvo-card--padding-xl">
            <h2 class="utrecht-heading-2 rvo-heading--no-margins">Persoonlijke gegevens</h2>
            <div class="rvo-layout-column rvo-layout-gap--md">
              <div class="rvo-layout-column rvo-layout-gap--0">
                <span class="rvo-text--subtle rvo-text--sm">Volledige naam</span>
                {{ user.get_full_name }}
              </div>
              <div class="rvo-layout-column rvo-layout-gap--0">
                <span class="rvo-text--subtle rvo-text--sm">E-mailadres</span>
                {{ user.email }}
              </div>
              <div class="rvo-layout-column rvo-layout-gap--0">
                <span class="rvo-text--subtle rvo-text--sm">Organisatie</span>
                Rijksoverheid
              </div>
              <div class="rvo-layout-column rvo-layout-gap--0">
                <span class="rvo-text--subtle rvo-text--sm">Lid sinds</span>
                {{ user.date_joined|date:"F Y" }}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}